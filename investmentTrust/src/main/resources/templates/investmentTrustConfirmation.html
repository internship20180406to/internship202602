<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>投資信託注文確認画面</title>
</head>
<body>
<div style="display: flex; align-items: center; margin-bottom: 30px;">
    <!-- ロゴ本体 -->
    <span style="
        font-family: 'Arial Black', 'Gadget', sans-serif;
        font-size: 1.8em;
        letter-spacing: 2px;
        color: #1a4a73;
        border-bottom: 3px solid #2185D0;
        line-height: 1;
        padding-bottom: 2px;">
        CFG
    </span>
</div>
<h1>投資信託注文確認画面</h1>
<form action="#" th:action="@{/investmentTrustCompletion}" th:object="${investmentTrustApplication}" method="post">
    <p>金融機関名: <span th:text="*{bankName}"></span></p>
    <p>支店名: <span th:text="*{branchName}"></span></p>
    <p>科目名: <span th:text="*{bankAccountType}"></span></p>
    <p>口座番号: <span th:text="*{bankAccountNum}"></span></p>
    <p>購入者名: <span th:text="*{name}"></span></p>
    <p>購入銘柄: <span th:text="*{fundName}"></span></p>
    <p>購入金額: <span th:text="*{money}"></span><span>円</span></p>
    <p>銘柄単価：<span th:text="${unitPrice}"></span> 円/口</p>
    <p>購入予定口数：<span th:text="${computedQuantity}"></span> 口</p>


    <input type="hidden" name="bankAccountNum" th:value="*{bankAccountNum}"/>
    <input type="hidden" name="bankName" th:value="*{bankName}"/>
    <input type="hidden" name="branchName" th:value="*{branchName}"/>
    <input type="hidden" name="bankAccountType" th:value="*{bankAccountType}"/>
    <input type="hidden" name="name" th:value="*{name}"/>
    <input type="hidden" name="fundName" th:value="*{fundName}"/>
    <input type="hidden" name="money" th:value="*{money}"/>
    <p>
        <input type="submit" id="btn-submit" value="申込"/>
        <input type="button" value="キャンセル" onclick="window.location='/investmentTrust';"/>
    </p>

    <!-- 最初は隠れているロボットチェックのエリア -->
    <div id="robot-overlay" style="
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.6);
    z-index: 10000;
    justify-content: center;
    align-items: center;
">
        <div style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); text-align: center; min-width: 350px;">
            <h5 id="auth-title" class="mb-4">セキュリティ認証</h5>

            <!-- 【重要】IDを追加しました -->
            <div id="step-checkbox" style="border: 1px solid #ccc; padding: 15px; background: #f9f9f9; display: inline-block;">
                <input type="checkbox" id="not-robot" style="width: 20px; height: 20px; cursor: pointer;">
                <label for="not-robot" style="font-size: 18px; margin-left: 10px; cursor: pointer;">私はロボットではありません</label>
            </div>

            <div id="step-images" style="display: none;">
                <p>信号機の画像をすべて選択してください</p>
                <div id="image-grid" style="display: grid; grid-template-columns: repeat(3, 100px); gap: 5px; justify-content: center;">
                    <!-- JSで9枚生成されます -->
                </div>
            </div>

            <br>
            <button type="button" id="btn-next-step" class="btn btn-primary mt-4 w-100">認証して次へ</button>
        </div>
    </div>


    <!--</form>-->
<script th:inline="javascript" src="/js/investmentTrustConfirmation.js"></script>
</body>
</html>